<div
  class="bubble-wrapper"
  [class.user-wrapper]="message.sender === 'user'"
  [class.ai-wrapper]="message.sender === 'ai'"
>
  <div
    class="bubble"
    [class.user-bubble]="message.sender === 'user'"
    [class.ai-bubble]="message.sender === 'ai'"
  >
    @if (message.type === 'text') {
    <p class="message-text">{{ message.text }}</p>
    <span class="message-time">{{ message.timestamp | date : 'HH:mm' }}</span>
    } @if (message.type === 'loading') {
    <div class="loading-indicator">
      <mat-spinner diameter="24"></mat-spinner>
    </div>
    }
  </div>
</div>